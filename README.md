
# Warehouse Management System

Учебный проект: полнофункциональное веб-приложение для автоматизации складского учёта с разделением прав доступа и REST API.

## 1. Цель 

**Цель:** показать на практике все ключевые навыки, полученные за время обучения: проектирование БД, серверная логика, безопасность, REST API и клиентский интерфейс.

## 1. Цель и задачи

**Цель:** показать на практике все ключевые навыки, полученные за время обучения: проектирование БД, серверная логика, безопасность, REST API и клиентский интерфейс.

**Основные задачи:**

- аутентификация и авторизация пользователей с ролями;
- управление справочниками (товары, категории, склады, поставщики);
- складские операции (приёмка, списание, резервирование, инвентаризация, остатки);
- управление заказами и историей их статусов;
- реализация минималистичного фронтенда на React.

---

## 2. Стек технологий

**Backend**

- Node.js, Express  
- PostgreSQL + Sequelize (миграции)  
- JWT-аутентификация, bcrypt (хэширование паролей)  
- express-validator (валидация входных данных)  
- Jest (unit-тесты)

**Frontend**

- React, React Router  
- Vite  
- CSS 

---

## 3. Функционал по ТЗ

### 3.1. Аутентификация и роли

- вход по email/паролю, выдача JWT-токена;
- роли: **admin**, **manager**, **storekeeper**;
- middleware: `authenticateToken`, `authorizeRoles(...)`.

### 3.2. Управление справочниками

- **Товары**: CRUD, уникальный SKU, категория, единица измерения, признак активности.
- **Категории**: древовидная структура, запрет удаления, если есть дочерние категории или привязанные товары.
- **Поставщики**: CRUD, запрет удаления при наличии операций приёмки.
- **Склады**: CRUD, запрет удаления при наличии движений или заказов.

### 3.3. Складские операции

- приёмка товара от поставщика с указанием количества, цены и срока годности;
- списание товара с выбором метода **FIFO/LIFO**;
- резервирование и снятие резерва под заказы;
- инвентаризация (корректировка остатков);
- получение текущих остатков: физический остаток, резерв, доступное количество.

### 3.4. Заказы

- создание заказов с автоматическим резервированием товара;
- статусы заказов: `pending`, `reserved`, `completed`, `cancelled`;
- бизнес-логика смены статусов:
  - `reserved → completed` — снятие резерва + списание со склада;
  - `reserved → cancelled` — только снятие резерва;
- история статусов хранится в отдельной таблице.

### 3.5. Формат API

**Успешный ответ**

    {
      "success": true,
      "data": { ... },
      "message": "опциональное описание операции"
    }

**Ответ с ошибкой**

    {
      "success": false,
      "message": "текст ошибки",
      "errors": [ ... ]
    }

---

## 4. Структура проекта

```text
warehouse-management-system/
  backend/
    src/
      controllers/
      middleware/
      models/
      routes/
      services/
      ...
    migrations/
    tests/
    server.js
    .env.example
  frontend/
    src/
      views/        # Страницы (Login, Dashboard, Products, Warehouse, Orders)
      components/   # Layout, ProtectedRoute
      api/          # apiClient
      context/      # AuthContext
      styles.css
    vite.config.js
